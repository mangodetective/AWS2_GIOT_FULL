{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arh05\\\\AWS2_GIOT_FULL\\\\frontend\\\\src\\\\pages\\\\Chatbot\\\\ChatbotScreen.tsx\",\n  _s = $RefreshSig$();\n// ChatbotScreen.tsx - 챗봇 화면 컴포넌트\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { Bell, User, ChevronLeft, Printer, Star, Trash2, Paperclip, Send, MoreHorizontal, MessageCircle } from 'lucide-react';\nimport { ChatbotAPI, ChatbotUtils } from '../../services/ChatbotTypes';\nimport { DashboardAPI } from '../../services/DashboardTypes';\nimport styles from \"./ChatbotScreen.module.css\";\n\n// 타이핑 인디케이터 컴포넌트\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TypingIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `${styles.chatbotMessageItem} ${styles.bot}`,\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${styles.chatbotMessageAvatar} ${styles.bot}`,\n    children: \"AWS\\xB2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.chatbotTypingIndicator,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.chatbotTypingBubble,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.chatbotTypingDot\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatbotTypingDot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatbotTypingDot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 3\n}, this);\n\n// 메시지 아이템 컴포넌트\n_c = TypingIndicator;\nconst MessageItem = ({\n  message\n}) => {\n  const isBot = message.sender === 'bot';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chatbotMessageItem ${message.sender}`,\n    children: [isBot && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbotMessageAvatar bot\",\n      children: \"AWS\\xB2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbotMessageBubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chatbotMessageContent ${message.sender}`,\n        children: [message.message.split('\\n').map((line, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [line, index < message.message.split('\\n').length - 1 && /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 66\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this)), isBot && message.sensorData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbotSensorData\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbotSensorItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uC628\\uB3C4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [message.sensorData.temperature, \"\\xB0C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbotSensorItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uC2B5\\uB3C4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [message.sensorData.humidity, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbotSensorItem\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uAC00\\uC2A4\\uB18D\\uB3C4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [message.sensorData.gasConcentration, \"ppm\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chatbotMessageMeta ${message.sender}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chatbotMessageTime\",\n          children: ChatbotUtils.formatTime(message.timestamp)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbotMessageActions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"chatbotMessageActionButton\",\n            children: /*#__PURE__*/_jsxDEV(MoreHorizontal, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), !isBot && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbotMessageAvatar user\",\n      children: \"A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n// 알림 드롭다운 컴포넌트 (Dashboard에서 재사용)\n_c2 = MessageItem;\nconst NotificationDropdown = ({\n  isOpen,\n  onClose,\n  notifications\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdownHeader\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"dropdownTitle\",\n          children: \"\\uC54C\\uB9BC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notificationList\",\n        children: notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"emptyNotification\",\n          children: \"\\uC0C8\\uB85C\\uC6B4 \\uC54C\\uB9BC\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this) : notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `notificationItem ${!notification.read ? 'notificationItemUnread' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"notificationMessage\",\n            children: notification.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"notificationTimestamp\",\n            children: notification.timestamp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }, this)]\n        }, notification.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      className: \"dropdownOverlay\",\n      \"aria-label\": \"\\uC54C\\uB9BC \\uB2EB\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n// 관리자 드롭다운 컴포넌트 (Dashboard에서 재사용)\n_c3 = NotificationDropdown;\nconst AdminDropdown = ({\n  isOpen,\n  onClose\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"adminDropdown\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"adminDropdownContent\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"adminDropdownItem\",\n          children: \"\\uD504\\uB85C\\uD544 \\uC124\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"adminDropdownItem\",\n          children: \"\\uACC4\\uC815 \\uAD00\\uB9AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"adminDropdownDivider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"adminDropdownItem adminDropdownLogout\",\n          children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      className: \"dropdownOverlay\",\n      \"aria-label\": \"\\uAD00\\uB9AC\\uC790 \\uBA54\\uB274 \\uB2EB\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_c4 = AdminDropdown;\nconst ChatbotScreen = ({\n  onNavigateBack\n}) => {\n  _s();\n  const [chatbotState, setChatbotState] = useState({\n    messages: [],\n    isLoading: false,\n    isTyping: false,\n    inputMessage: '',\n    error: null,\n    modelStatus: 'Active'\n  });\n  const [notificationData, setNotificationData] = useState({\n    count: 0,\n    notifications: []\n  });\n  const [isNotificationOpen, setIsNotificationOpen] = useState(false);\n  const [isAdminMenuOpen, setIsAdminMenuOpen] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // 메시지 영역 스크롤을 맨 아래로\n  const scrollToBottom = useCallback(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, []);\n\n  // 메시지 전송\n  const sendMessage = useCallback(async () => {\n    const message = chatbotState.inputMessage.trim();\n\n    // 메시지 검증\n    const validation = ChatbotUtils.validateMessage(message);\n    if (!validation.isValid) {\n      setChatbotState(prev => ({\n        ...prev,\n        error: validation.error || null\n      }));\n      return;\n    }\n\n    // 사용자 메시지 추가\n    const userMessage = {\n      id: ChatbotUtils.generateMessageId(),\n      message,\n      sender: 'user',\n      timestamp: new Date().toISOString()\n    };\n    setChatbotState(prev => ({\n      ...prev,\n      messages: [...prev.messages, userMessage],\n      inputMessage: '',\n      isLoading: true,\n      isTyping: true,\n      error: null\n    }));\n    try {\n      // API 호출 (개발 시에는 목 응답 사용)\n      const response = await ChatbotAPI.generateMockResponse(message);\n      if ('success' in response && response.success) {\n        // 타이핑 효과를 위한 지연\n        const typingDelay = ChatbotUtils.calculateTypingDelay(response.reply);\n        setTimeout(() => {\n          const botMessage = {\n            id: ChatbotUtils.generateMessageId(),\n            message: response.reply,\n            sender: 'bot',\n            timestamp: response.timestamp,\n            sensorData: response.sensorData,\n            status: response.status\n          };\n          setChatbotState(prev => ({\n            ...prev,\n            messages: [...prev.messages, botMessage],\n            isLoading: false,\n            isTyping: false\n          }));\n        }, typingDelay);\n      } else {\n        const msg = 'error' in response ? response.error : 'Unknown error';\n        throw new Error(msg);\n      }\n    } catch (error) {\n      setChatbotState(prev => ({\n        ...prev,\n        isLoading: false,\n        isTyping: false,\n        error: error instanceof Error ? error.message : '답변을 생성할 수 없습니다.'\n      }));\n    }\n  }, [chatbotState.inputMessage]);\n\n  // 입력 필드 변경 핸들러\n  const handleInputChange = useCallback(e => {\n    const value = e.target.value;\n    if (value.length <= 300) {\n      setChatbotState(prev => ({\n        ...prev,\n        inputMessage: value,\n        error: null\n      }));\n    }\n  }, []);\n\n  // 키보드 이벤트 핸들러\n  const handleKeyDown = useCallback(e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      if (!chatbotState.isLoading && chatbotState.inputMessage.trim()) {\n        sendMessage();\n      }\n    }\n  }, [chatbotState.isLoading, chatbotState.inputMessage, sendMessage]);\n\n  // 알림 데이터 가져오기\n  const fetchNotifications = useCallback(async () => {\n    try {\n      const data = await DashboardAPI.getNotifications();\n      setNotificationData(data);\n    } catch (error) {\n      console.error('알림 데이터 가져오기 실패:', error);\n    }\n  }, []);\n\n  // 컴포넌트 마운트 시 초기화\n  useEffect(() => {\n    // 환영 메시지 추가\n    const welcomeMessage = ChatbotUtils.createWelcomeMessage();\n    setChatbotState(prev => ({\n      ...prev,\n      messages: [welcomeMessage]\n    }));\n\n    // 알림 데이터 가져오기\n    fetchNotifications();\n\n    // 입력 필드에 포커스\n    setTimeout(() => {\n      var _inputRef$current;\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }, 100);\n  }, [fetchNotifications]);\n\n  // 메시지 추가 시 스크롤\n  useEffect(() => {\n    scrollToBottom();\n  }, [chatbotState.messages, chatbotState.isTyping, scrollToBottom]);\n\n  // 메시지 히스토리 저장\n  useEffect(() => {\n    if (chatbotState.messages.length > 0) {\n      ChatbotUtils.saveMessageHistory(chatbotState.messages);\n    }\n  }, [chatbotState.messages]);\n  const canSend = chatbotState.inputMessage.trim().length > 0 && !chatbotState.isLoading;\n  const charCount = chatbotState.inputMessage.length;\n  const charCountClass = charCount > 250 ? 'error' : charCount > 200 ? 'warning' : '';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logoSection\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logoContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logoMain\",\n            children: \"AWS\\xB2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logoAccent\",\n            children: \"GIoT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logoSubtext\",\n          children: \"IoT Cloud System\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navigation\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sidebarItem\",\n          onClick: onNavigateBack,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sidebarItem sidebarItemActive\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Chatbot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sidebarItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sidebarItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"sidebarItem\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebarFooter\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footerText\",\n          children: \"2025 GBSA AWS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainContent\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"headerContent\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"headerTitle\",\n              children: \"Chatbot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"headerSubtitle\",\n              children: new Date().toLocaleString('ko-KR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"headerActions\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notificationContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setIsNotificationOpen(!isNotificationOpen);\n                  setIsAdminMenuOpen(false);\n                },\n                className: \"notificationButton\",\n                children: [/*#__PURE__*/_jsxDEV(Bell, {\n                  size: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this), notificationData.count > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"notificationBadge\",\n                  children: notificationData.count > 99 ? '99+' : notificationData.count\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(NotificationDropdown, {\n                isOpen: isNotificationOpen,\n                onClose: () => setIsNotificationOpen(false),\n                notifications: notificationData.notifications\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"adminContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setIsAdminMenuOpen(!isAdminMenuOpen);\n                  setIsNotificationOpen(false);\n                },\n                className: \"adminButton\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"adminAvatar\",\n                  children: /*#__PURE__*/_jsxDEV(User, {\n                    size: 18,\n                    style: {\n                      color: 'white'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"adminLabel\",\n                  children: \"Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AdminDropdown, {\n                isOpen: isAdminMenuOpen,\n                onClose: () => setIsAdminMenuOpen(false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatbotContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbotHeader\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbotHeaderLeft\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"chatbotBackButton\",\n              onClick: onNavigateBack,\n              \"aria-label\": \"\\uB4A4\\uB85C \\uAC00\\uAE30\",\n              children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chatbotModelInfo\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chatbotModelName\",\n                children: \"Model Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chatbotModelStatus\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `chatbotStatusBadge chatbotStatus${chatbotState.modelStatus}`,\n                  children: chatbotState.modelStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbotHeaderActions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"chatbotActionButton\",\n              \"aria-label\": \"\\uC778\\uC1C4\",\n              children: /*#__PURE__*/_jsxDEV(Printer, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"chatbotActionButton\",\n              \"aria-label\": \"\\uC990\\uACA8\\uCC3E\\uAE30\",\n              children: /*#__PURE__*/_jsxDEV(Star, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"chatbotActionButton\",\n              \"aria-label\": \"\\uC0AD\\uC81C\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbotMessagesContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbotMessages\",\n            children: [chatbotState.messages.map(message => /*#__PURE__*/_jsxDEV(MessageItem, {\n              message: message\n            }, message.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this)), chatbotState.isTyping && /*#__PURE__*/_jsxDEV(TypingIndicator, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this), chatbotState.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbotErrorMessage\",\n          children: chatbotState.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatbotInputContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chatbotInputWrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"chatbotAttachButton\",\n              \"aria-label\": \"\\uD30C\\uC77C \\uCCA8\\uBD80\",\n              children: /*#__PURE__*/_jsxDEV(Paperclip, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'relative',\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: inputRef,\n                className: \"chatbotInputField\",\n                value: chatbotState.inputMessage,\n                onChange: handleInputChange,\n                onKeyDown: handleKeyDown,\n                placeholder: \"Write message\",\n                rows: 1,\n                disabled: chatbotState.isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `chatbotCharCounter ${charCountClass}`,\n                children: [charCount, \"/300\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"chatbotSendButton\",\n              onClick: sendMessage,\n              disabled: !canSend,\n              \"aria-label\": \"\\uBA54\\uC2DC\\uC9C0 \\uC804\\uC1A1\",\n              children: /*#__PURE__*/_jsxDEV(Send, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatbotScreen, \"g5zZhLMMxpofdxDYl6wh5iAPNQw=\");\n_c5 = ChatbotScreen;\nexport default ChatbotScreen;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"TypingIndicator\");\n$RefreshReg$(_c2, \"MessageItem\");\n$RefreshReg$(_c3, \"NotificationDropdown\");\n$RefreshReg$(_c4, \"AdminDropdown\");\n$RefreshReg$(_c5, \"ChatbotScreen\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Bell","User","ChevronLeft","Printer","Star","Trash2","Paperclip","Send","MoreHorizontal","MessageCircle","ChatbotAPI","ChatbotUtils","DashboardAPI","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","TypingIndicator","className","chatbotMessageItem","bot","children","chatbotMessageAvatar","fileName","_jsxFileName","lineNumber","columnNumber","chatbotTypingIndicator","chatbotTypingBubble","chatbotTypingDot","_c","MessageItem","message","isBot","sender","split","map","line","index","length","sensorData","temperature","humidity","gasConcentration","formatTime","timestamp","size","_c2","NotificationDropdown","isOpen","onClose","notifications","notification","read","id","onClick","_c3","AdminDropdown","_c4","ChatbotScreen","onNavigateBack","_s","chatbotState","setChatbotState","messages","isLoading","isTyping","inputMessage","error","modelStatus","notificationData","setNotificationData","count","isNotificationOpen","setIsNotificationOpen","isAdminMenuOpen","setIsAdminMenuOpen","messagesEndRef","inputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","trim","validation","validateMessage","isValid","prev","userMessage","generateMessageId","Date","toISOString","response","generateMockResponse","success","typingDelay","calculateTypingDelay","reply","setTimeout","botMessage","status","msg","Error","handleInputChange","e","value","target","handleKeyDown","key","shiftKey","preventDefault","fetchNotifications","data","getNotifications","console","welcomeMessage","createWelcomeMessage","_inputRef$current","focus","saveMessageHistory","canSend","charCount","charCountClass","toLocaleString","style","color","ref","position","flex","onChange","onKeyDown","placeholder","rows","disabled","_c5","$RefreshReg$"],"sources":["C:/Users/arh05/AWS2_GIOT_FULL/frontend/src/pages/Chatbot/ChatbotScreen.tsx"],"sourcesContent":["// ChatbotScreen.tsx - 챗봇 화면 컴포넌트\r\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { \r\n  Bell, \r\n  User, \r\n  ChevronLeft, \r\n  Printer, \r\n  Star, \r\n  Trash2, \r\n  Paperclip, \r\n  Send,\r\n  MoreHorizontal,\r\n  MessageCircle\r\n} from 'lucide-react';\r\nimport { ChatbotState, ChatMessage, ChatbotAPI, ChatbotUtils } from '../../services/ChatbotTypes';\r\nimport { NotificationData, DashboardAPI } from '../../services/DashboardTypes';\r\nimport styles from \"./ChatbotScreen.module.css\"\r\n\r\n\r\n// 타이핑 인디케이터 컴포넌트\r\nconst TypingIndicator: React.FC = () => (\r\n  <div className={`${styles.chatbotMessageItem} ${styles.bot}`}>\r\n    <div className={`${styles.chatbotMessageAvatar} ${styles.bot}`}>AWS²</div>\r\n    <div className={styles.chatbotTypingIndicator}>\r\n      <div className={styles.chatbotTypingBubble}>\r\n        <div className={styles.chatbotTypingDot}></div>\r\n        <div className=\"chatbotTypingDot\"></div>\r\n        <div className=\"chatbotTypingDot\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// 메시지 아이템 컴포넌트\r\nconst MessageItem: React.FC<{ message: ChatMessage }> = ({ message }) => {\r\n  const isBot = message.sender === 'bot';\r\n  \r\n  return (\r\n    <div className={`chatbotMessageItem ${message.sender}`}>\r\n      {isBot && (\r\n        <div className=\"chatbotMessageAvatar bot\">AWS²</div>\r\n      )}\r\n      \r\n      <div className=\"chatbotMessageBubble\">\r\n        <div className={`chatbotMessageContent ${message.sender}`}>\r\n          {message.message.split('\\n').map((line, index) => (\r\n            <React.Fragment key={index}>\r\n              {line}\r\n              {index < message.message.split('\\n').length - 1 && <br />}\r\n            </React.Fragment>\r\n          ))}\r\n          \r\n          {/* 센서 데이터 표시 (봇 메시지인 경우) */}\r\n          {isBot && message.sensorData && (\r\n            <div className=\"chatbotSensorData\">\r\n              <div className=\"chatbotSensorItem\">\r\n                <span>온도:</span>\r\n                <span>{message.sensorData.temperature}°C</span>\r\n              </div>\r\n              <div className=\"chatbotSensorItem\">\r\n                <span>습도:</span>\r\n                <span>{message.sensorData.humidity}%</span>\r\n              </div>\r\n              <div className=\"chatbotSensorItem\">\r\n                <span>가스농도:</span>\r\n                <span>{message.sensorData.gasConcentration}ppm</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className={`chatbotMessageMeta ${message.sender}`}>\r\n          <span className=\"chatbotMessageTime\">\r\n            {ChatbotUtils.formatTime(message.timestamp)}\r\n          </span>\r\n          <div className=\"chatbotMessageActions\">\r\n            <button className=\"chatbotMessageActionButton\">\r\n              <MoreHorizontal size={12} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {!isBot && (\r\n        <div className=\"chatbotMessageAvatar user\">A</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// 알림 드롭다운 컴포넌트 (Dashboard에서 재사용)\r\nconst NotificationDropdown: React.FC<{ \r\n  isOpen: boolean; \r\n  onClose: () => void; \r\n  notifications: NotificationData['notifications'];\r\n}> = ({ isOpen, onClose, notifications }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"dropdown\">\r\n        <div className=\"dropdownHeader\">\r\n          <h3 className=\"dropdownTitle\">알림</h3>\r\n        </div>\r\n        <div className=\"notificationList\">\r\n          {notifications.length === 0 ? (\r\n            <div className=\"emptyNotification\">새로운 알림이 없습니다</div>\r\n          ) : (\r\n            notifications.map((notification) => (\r\n              <div \r\n                key={notification.id} \r\n                className={`notificationItem ${!notification.read ? 'notificationItemUnread' : ''}`}\r\n              >\r\n                <p className=\"notificationMessage\">{notification.message}</p>\r\n                <p className=\"notificationTimestamp\">{notification.timestamp}</p>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n      <button \r\n        onClick={onClose}\r\n        className=\"dropdownOverlay\"\r\n        aria-label=\"알림 닫기\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\n// 관리자 드롭다운 컴포넌트 (Dashboard에서 재사용)\r\nconst AdminDropdown: React.FC<{ isOpen: boolean; onClose: () => void }> = ({ isOpen, onClose }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"adminDropdown\">\r\n        <div className=\"adminDropdownContent\">\r\n          <button className=\"adminDropdownItem\">프로필 설정</button>\r\n          <button className=\"adminDropdownItem\">계정 관리</button>\r\n          <div className=\"adminDropdownDivider\" />\r\n          <button className=\"adminDropdownItem adminDropdownLogout\">로그아웃</button>\r\n        </div>\r\n      </div>\r\n      <button \r\n        onClick={onClose}\r\n        className=\"dropdownOverlay\"\r\n        aria-label=\"관리자 메뉴 닫기\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\ninterface ChatbotScreenProps {\r\n  onNavigateBack: () => void;\r\n}\r\n\r\nconst ChatbotScreen: React.FC<ChatbotScreenProps> = ({ onNavigateBack }) => {\r\n  const [chatbotState, setChatbotState] = useState<ChatbotState>({\r\n    messages: [],\r\n    isLoading: false,\r\n    isTyping: false,\r\n    inputMessage: '',\r\n    error: null,\r\n    modelStatus: 'Active'\r\n  });\r\n\r\n  const [notificationData, setNotificationData] = useState<NotificationData>({\r\n    count: 0,\r\n    notifications: []\r\n  });\r\n  \r\n  const [isNotificationOpen, setIsNotificationOpen] = useState(false);\r\n  const [isAdminMenuOpen, setIsAdminMenuOpen] = useState(false);\r\n\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  // 메시지 영역 스크롤을 맨 아래로\r\n  const scrollToBottom = useCallback(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, []);\r\n\r\n  // 메시지 전송\r\n  const sendMessage = useCallback(async () => {\r\n    const message = chatbotState.inputMessage.trim();\r\n    \r\n    // 메시지 검증\r\n    const validation = ChatbotUtils.validateMessage(message);\r\n    if (!validation.isValid) {\r\n      setChatbotState(prev => ({ ...prev, error: validation.error || null }));\r\n      return;\r\n    }\r\n\r\n    // 사용자 메시지 추가\r\n    const userMessage: ChatMessage = {\r\n      id: ChatbotUtils.generateMessageId(),\r\n      message,\r\n      sender: 'user',\r\n      timestamp: new Date().toISOString()\r\n    };\r\n\r\n    setChatbotState(prev => ({\r\n      ...prev,\r\n      messages: [...prev.messages, userMessage],\r\n      inputMessage: '',\r\n      isLoading: true,\r\n      isTyping: true,\r\n      error: null\r\n    }));\r\n\r\n    try {\r\n      // API 호출 (개발 시에는 목 응답 사용)\r\n      const response = await ChatbotAPI.generateMockResponse(message);\r\n      \r\n      if ('success' in response && response.success) {\r\n        // 타이핑 효과를 위한 지연\r\n        const typingDelay = ChatbotUtils.calculateTypingDelay(response.reply);\r\n        \r\n        setTimeout(() => {\r\n          const botMessage: ChatMessage = {\r\n            id: ChatbotUtils.generateMessageId(),\r\n            message: response.reply,\r\n            sender: 'bot',\r\n            timestamp: response.timestamp,\r\n            sensorData: response.sensorData,\r\n            status: response.status\r\n          };\r\n\r\n          setChatbotState(prev => ({\r\n            ...prev,\r\n            messages: [...prev.messages, botMessage],\r\n            isLoading: false,\r\n            isTyping: false\r\n          }));\r\n        }, typingDelay);\r\n      } else {\r\n  const msg = 'error' in response ? response.error : 'Unknown error';\r\n  throw new Error(msg);\r\n}\r\n    } catch (error) {\r\n      setChatbotState(prev => ({\r\n        ...prev,\r\n        isLoading: false,\r\n        isTyping: false,\r\n        error: error instanceof Error ? error.message : '답변을 생성할 수 없습니다.'\r\n      }));\r\n    }\r\n  }, [chatbotState.inputMessage]);\r\n\r\n  // 입력 필드 변경 핸들러\r\n  const handleInputChange = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    const value = e.target.value;\r\n    if (value.length <= 300) {\r\n      setChatbotState(prev => ({ \r\n        ...prev, \r\n        inputMessage: value,\r\n        error: null \r\n      }));\r\n    }\r\n  }, []);\r\n\r\n  // 키보드 이벤트 핸들러\r\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      if (!chatbotState.isLoading && chatbotState.inputMessage.trim()) {\r\n        sendMessage();\r\n      }\r\n    }\r\n  }, [chatbotState.isLoading, chatbotState.inputMessage, sendMessage]);\r\n\r\n  // 알림 데이터 가져오기\r\n  const fetchNotifications = useCallback(async () => {\r\n    try {\r\n      const data = await DashboardAPI.getNotifications();\r\n      setNotificationData(data);\r\n    } catch (error) {\r\n      console.error('알림 데이터 가져오기 실패:', error);\r\n    }\r\n  }, []);\r\n\r\n  // 컴포넌트 마운트 시 초기화\r\n  useEffect(() => {\r\n    // 환영 메시지 추가\r\n    const welcomeMessage = ChatbotUtils.createWelcomeMessage();\r\n    setChatbotState(prev => ({\r\n      ...prev,\r\n      messages: [welcomeMessage]\r\n    }));\r\n\r\n    // 알림 데이터 가져오기\r\n    fetchNotifications();\r\n\r\n    // 입력 필드에 포커스\r\n    setTimeout(() => {\r\n      inputRef.current?.focus();\r\n    }, 100);\r\n  }, [fetchNotifications]);\r\n\r\n  // 메시지 추가 시 스크롤\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [chatbotState.messages, chatbotState.isTyping, scrollToBottom]);\r\n\r\n  // 메시지 히스토리 저장\r\n  useEffect(() => {\r\n    if (chatbotState.messages.length > 0) {\r\n      ChatbotUtils.saveMessageHistory(chatbotState.messages);\r\n    }\r\n  }, [chatbotState.messages]);\r\n\r\n  const canSend = chatbotState.inputMessage.trim().length > 0 && !chatbotState.isLoading;\r\n  const charCount = chatbotState.inputMessage.length;\r\n  const charCountClass = charCount > 250 ? 'error' : charCount > 200 ? 'warning' : '';\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* 사이드바 (Dashboard에서 재사용) */}\r\n      <div className=\"sidebar\">\r\n        <div className=\"logoSection\">\r\n          <div className=\"logoContainer\">\r\n            <div className=\"logoMain\">AWS²</div>\r\n            <div className=\"logoAccent\">GIoT</div>\r\n          </div>\r\n          <div className=\"logoSubtext\">IoT Cloud System</div>\r\n        </div>\r\n\r\n        <nav className=\"navigation\">\r\n          <button className=\"sidebarItem\" onClick={onNavigateBack}>\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>Dashboard</span>\r\n          </button>\r\n          <button className=\"sidebarItem sidebarItemActive\">\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>Chatbot</span>\r\n          </button>\r\n          <button className=\"sidebarItem\">\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>History</span>\r\n          </button>\r\n          <button className=\"sidebarItem\">\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>Settings</span>\r\n          </button>\r\n          <button className=\"sidebarItem\">\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>Logout</span>\r\n          </button>\r\n        </nav>\r\n\r\n        <div className=\"sidebarFooter\">\r\n          <div className=\"footerText\">2025 GBSA AWS</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 메인 컨텐츠 영역 */}\r\n      <div className=\"mainContent\">\r\n        {/* 상단 헤더 */}\r\n        <header className=\"header\">\r\n          <div className=\"headerContent\">\r\n            <div>\r\n              <h1 className=\"headerTitle\">Chatbot</h1>\r\n              <p className=\"headerSubtitle\">{new Date().toLocaleString('ko-KR')}</p>\r\n            </div>\r\n            \r\n            <div className=\"headerActions\">\r\n              {/* 알림 아이콘 */}\r\n              <div className=\"notificationContainer\">\r\n                <button\r\n                  onClick={() => {\r\n                    setIsNotificationOpen(!isNotificationOpen);\r\n                    setIsAdminMenuOpen(false);\r\n                  }}\r\n                  className=\"notificationButton\"\r\n                >\r\n                  <Bell size={24} />\r\n                  {notificationData.count > 0 && (\r\n                    <span className=\"notificationBadge\">\r\n                      {notificationData.count > 99 ? '99+' : notificationData.count}\r\n                    </span>\r\n                  )}\r\n                </button>\r\n                \r\n                <NotificationDropdown\r\n                  isOpen={isNotificationOpen}\r\n                  onClose={() => setIsNotificationOpen(false)}\r\n                  notifications={notificationData.notifications}\r\n                />\r\n              </div>\r\n\r\n              {/* 관리자 프로필 */}\r\n              <div className=\"adminContainer\">\r\n                <button\r\n                  onClick={() => {\r\n                    setIsAdminMenuOpen(!isAdminMenuOpen);\r\n                    setIsNotificationOpen(false);\r\n                  }}\r\n                  className=\"adminButton\"\r\n                >\r\n                  <div className=\"adminAvatar\">\r\n                    <User size={18} style={{ color: 'white' }} />\r\n                  </div>\r\n                  <span className=\"adminLabel\">Admin</span>\r\n                </button>\r\n                \r\n                <AdminDropdown\r\n                  isOpen={isAdminMenuOpen}\r\n                  onClose={() => setIsAdminMenuOpen(false)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* 챗봇 메인 영역 */}\r\n        <div className=\"chatbotContainer\">\r\n          {/* 챗봇 헤더 */}\r\n          <div className=\"chatbotHeader\">\r\n            <div className=\"chatbotHeaderLeft\">\r\n              <button \r\n                className=\"chatbotBackButton\"\r\n                onClick={onNavigateBack}\r\n                aria-label=\"뒤로 가기\"\r\n              >\r\n                <ChevronLeft size={20} />\r\n              </button>\r\n              \r\n              <div className=\"chatbotModelInfo\">\r\n                <div className=\"chatbotModelName\">Model Name</div>\r\n                <div className=\"chatbotModelStatus\">\r\n                  <span className={`chatbotStatusBadge chatbotStatus${chatbotState.modelStatus}`}>\r\n                    {chatbotState.modelStatus}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"chatbotHeaderActions\">\r\n              <button className=\"chatbotActionButton\" aria-label=\"인쇄\">\r\n                <Printer size={18} />\r\n              </button>\r\n              <button className=\"chatbotActionButton\" aria-label=\"즐겨찾기\">\r\n                <Star size={18} />\r\n              </button>\r\n              <button className=\"chatbotActionButton\" aria-label=\"삭제\">\r\n                <Trash2 size={18} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 메시지 영역 */}\r\n          <div className=\"chatbotMessagesContainer\">\r\n            <div className=\"chatbotMessages\">\r\n              {chatbotState.messages.map((message) => (\r\n                <MessageItem key={message.id} message={message} />\r\n              ))}\r\n              \r\n              {chatbotState.isTyping && <TypingIndicator />}\r\n              \r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* 에러 메시지 */}\r\n          {chatbotState.error && (\r\n            <div className=\"chatbotErrorMessage\">\r\n              {chatbotState.error}\r\n            </div>\r\n          )}\r\n\r\n          {/* 입력 영역 */}\r\n          <div className=\"chatbotInputContainer\">\r\n            <div className=\"chatbotInputWrapper\">\r\n              <button \r\n                className=\"chatbotAttachButton\"\r\n                aria-label=\"파일 첨부\"\r\n              >\r\n                <Paperclip size={18} />\r\n              </button>\r\n              \r\n              <div style={{ position: 'relative', flex: 1 }}>\r\n                <textarea\r\n                  ref={inputRef}\r\n                  className=\"chatbotInputField\"\r\n                  value={chatbotState.inputMessage}\r\n                  onChange={handleInputChange}\r\n                  onKeyDown={handleKeyDown}\r\n                  placeholder=\"Write message\"\r\n                  rows={1}\r\n                  disabled={chatbotState.isLoading}\r\n                />\r\n                <div className={`chatbotCharCounter ${charCountClass}`}>\r\n                  {charCount}/300\r\n                </div>\r\n              </div>\r\n              \r\n              <button \r\n                className=\"chatbotSendButton\"\r\n                onClick={sendMessage}\r\n                disabled={!canSend}\r\n                aria-label=\"메시지 전송\"\r\n              >\r\n                <Send size={18} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatbotScreen;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AACvE,SACEC,IAAI,EACJC,IAAI,EACJC,WAAW,EACXC,OAAO,EACPC,IAAI,EACJC,MAAM,EACNC,SAAS,EACTC,IAAI,EACJC,cAAc,EACdC,aAAa,QACR,cAAc;AACrB,SAAoCC,UAAU,EAAEC,YAAY,QAAQ,6BAA6B;AACjG,SAA2BC,YAAY,QAAQ,+BAA+B;AAC9E,OAAOC,MAAM,MAAM,4BAA4B;;AAG/C;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,eAAyB,GAAGA,CAAA,kBAChCH,OAAA;EAAKI,SAAS,EAAE,GAAGN,MAAM,CAACO,kBAAkB,IAAIP,MAAM,CAACQ,GAAG,EAAG;EAAAC,QAAA,gBAC3DP,OAAA;IAAKI,SAAS,EAAE,GAAGN,MAAM,CAACU,oBAAoB,IAAIV,MAAM,CAACQ,GAAG,EAAG;IAAAC,QAAA,EAAC;EAAI;IAAAE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC,eAC1EZ,OAAA;IAAKI,SAAS,EAAEN,MAAM,CAACe,sBAAuB;IAAAN,QAAA,eAC5CP,OAAA;MAAKI,SAAS,EAAEN,MAAM,CAACgB,mBAAoB;MAAAP,QAAA,gBACzCP,OAAA;QAAKI,SAAS,EAAEN,MAAM,CAACiB;MAAiB;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/CZ,OAAA;QAAKI,SAAS,EAAC;MAAkB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACxCZ,OAAA;QAAKI,SAAS,EAAC;MAAkB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAAA;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACH,CACN;;AAED;AAAAI,EAAA,GAbMb,eAAyB;AAc/B,MAAMc,WAA+C,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EACvE,MAAMC,KAAK,GAAGD,OAAO,CAACE,MAAM,KAAK,KAAK;EAEtC,oBACEpB,OAAA;IAAKI,SAAS,EAAE,sBAAsBc,OAAO,CAACE,MAAM,EAAG;IAAAb,QAAA,GACpDY,KAAK,iBACJnB,OAAA;MAAKI,SAAS,EAAC,0BAA0B;MAAAG,QAAA,EAAC;IAAI;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACpD,eAEDZ,OAAA;MAAKI,SAAS,EAAC,sBAAsB;MAAAG,QAAA,gBACnCP,OAAA;QAAKI,SAAS,EAAE,yBAAyBc,OAAO,CAACE,MAAM,EAAG;QAAAb,QAAA,GACvDW,OAAO,CAACA,OAAO,CAACG,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBAC3CxB,OAAA,CAACpB,KAAK,CAACqB,QAAQ;UAAAM,QAAA,GACZgB,IAAI,EACJC,KAAK,GAAGN,OAAO,CAACA,OAAO,CAACG,KAAK,CAAC,IAAI,CAAC,CAACI,MAAM,GAAG,CAAC,iBAAIzB,OAAA;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA,GAFtCY,KAAK;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAGV,CACjB,CAAC,EAGDO,KAAK,IAAID,OAAO,CAACQ,UAAU,iBAC1B1B,OAAA;UAAKI,SAAS,EAAC,mBAAmB;UAAAG,QAAA,gBAChCP,OAAA;YAAKI,SAAS,EAAC,mBAAmB;YAAAG,QAAA,gBAChCP,OAAA;cAAAO,QAAA,EAAM;YAAG;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAChBZ,OAAA;cAAAO,QAAA,GAAOW,OAAO,CAACQ,UAAU,CAACC,WAAW,EAAC,OAAE;YAAA;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC,eACNZ,OAAA;YAAKI,SAAS,EAAC,mBAAmB;YAAAG,QAAA,gBAChCP,OAAA;cAAAO,QAAA,EAAM;YAAG;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAChBZ,OAAA;cAAAO,QAAA,GAAOW,OAAO,CAACQ,UAAU,CAACE,QAAQ,EAAC,GAAC;YAAA;cAAAnB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC,eACNZ,OAAA;YAAKI,SAAS,EAAC,mBAAmB;YAAAG,QAAA,gBAChCP,OAAA;cAAAO,QAAA,EAAM;YAAK;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAClBZ,OAAA;cAAAO,QAAA,GAAOW,OAAO,CAACQ,UAAU,CAACG,gBAAgB,EAAC,KAAG;YAAA;cAAApB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENZ,OAAA;QAAKI,SAAS,EAAE,sBAAsBc,OAAO,CAACE,MAAM,EAAG;QAAAb,QAAA,gBACrDP,OAAA;UAAMI,SAAS,EAAC,oBAAoB;UAAAG,QAAA,EACjCX,YAAY,CAACkC,UAAU,CAACZ,OAAO,CAACa,SAAS;QAAC;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACPZ,OAAA;UAAKI,SAAS,EAAC,uBAAuB;UAAAG,QAAA,eACpCP,OAAA;YAAQI,SAAS,EAAC,4BAA4B;YAAAG,QAAA,eAC5CP,OAAA,CAACP,cAAc;cAACuC,IAAI,EAAE;YAAG;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAEL,CAACO,KAAK,iBACLnB,OAAA;MAAKI,SAAS,EAAC,2BAA2B;MAAAG,QAAA,EAAC;IAAC;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAClD;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;;AAED;AAAAqB,GAAA,GAxDMhB,WAA+C;AAyDrD,MAAMiB,oBAIJ,GAAGA,CAAC;EAAEC,MAAM;EAAEC,OAAO;EAAEC;AAAc,CAAC,KAAK;EAC3C,IAAI,CAACF,MAAM,EAAE,OAAO,IAAI;EAExB,oBACEnC,OAAA,CAAAE,SAAA;IAAAK,QAAA,gBACEP,OAAA;MAAKI,SAAS,EAAC,UAAU;MAAAG,QAAA,gBACvBP,OAAA;QAAKI,SAAS,EAAC,gBAAgB;QAAAG,QAAA,eAC7BP,OAAA;UAAII,SAAS,EAAC,eAAe;UAAAG,QAAA,EAAC;QAAE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClC,CAAC,eACNZ,OAAA;QAAKI,SAAS,EAAC,kBAAkB;QAAAG,QAAA,EAC9B8B,aAAa,CAACZ,MAAM,KAAK,CAAC,gBACzBzB,OAAA;UAAKI,SAAS,EAAC,mBAAmB;UAAAG,QAAA,EAAC;QAAY;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,GAErDyB,aAAa,CAACf,GAAG,CAAEgB,YAAY,iBAC7BtC,OAAA;UAEEI,SAAS,EAAE,oBAAoB,CAACkC,YAAY,CAACC,IAAI,GAAG,wBAAwB,GAAG,EAAE,EAAG;UAAAhC,QAAA,gBAEpFP,OAAA;YAAGI,SAAS,EAAC,qBAAqB;YAAAG,QAAA,EAAE+B,YAAY,CAACpB;UAAO;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC7DZ,OAAA;YAAGI,SAAS,EAAC,uBAAuB;YAAAG,QAAA,EAAE+B,YAAY,CAACP;UAAS;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA,GAJ5D0B,YAAY,CAACE,EAAE;UAAA/B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAKjB,CACN;MACF;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNZ,OAAA;MACEyC,OAAO,EAAEL,OAAQ;MACjBhC,SAAS,EAAC,iBAAiB;MAC3B,cAAW;IAAO;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;;AAED;AAAA8B,GAAA,GAtCMR,oBAIJ;AAmCF,MAAMS,aAAiE,GAAGA,CAAC;EAAER,MAAM;EAAEC;AAAQ,CAAC,KAAK;EACjG,IAAI,CAACD,MAAM,EAAE,OAAO,IAAI;EAExB,oBACEnC,OAAA,CAAAE,SAAA;IAAAK,QAAA,gBACEP,OAAA;MAAKI,SAAS,EAAC,eAAe;MAAAG,QAAA,eAC5BP,OAAA;QAAKI,SAAS,EAAC,sBAAsB;QAAAG,QAAA,gBACnCP,OAAA;UAAQI,SAAS,EAAC,mBAAmB;UAAAG,QAAA,EAAC;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACrDZ,OAAA;UAAQI,SAAS,EAAC,mBAAmB;UAAAG,QAAA,EAAC;QAAK;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACpDZ,OAAA;UAAKI,SAAS,EAAC;QAAsB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACxCZ,OAAA;UAAQI,SAAS,EAAC,uCAAuC;UAAAG,QAAA,EAAC;QAAI;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNZ,OAAA;MACEyC,OAAO,EAAEL,OAAQ;MACjBhC,SAAS,EAAC,iBAAiB;MAC3B,cAAW;IAAW;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvB,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;AAACgC,GAAA,GApBID,aAAiE;AA0BvE,MAAME,aAA2C,GAAGA,CAAC;EAAEC;AAAe,CAAC,KAAK;EAAAC,EAAA;EAC1E,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGpE,QAAQ,CAAe;IAC7DqE,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,KAAK;IAChBC,QAAQ,EAAE,KAAK;IACfC,YAAY,EAAE,EAAE;IAChBC,KAAK,EAAE,IAAI;IACXC,WAAW,EAAE;EACf,CAAC,CAAC;EAEF,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG5E,QAAQ,CAAmB;IACzE6E,KAAK,EAAE,CAAC;IACRrB,aAAa,EAAE;EACjB,CAAC,CAAC;EAEF,MAAM,CAACsB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG/E,QAAQ,CAAC,KAAK,CAAC;EACnE,MAAM,CAACgF,eAAe,EAAEC,kBAAkB,CAAC,GAAGjF,QAAQ,CAAC,KAAK,CAAC;EAE7D,MAAMkF,cAAc,GAAG/E,MAAM,CAAiB,IAAI,CAAC;EACnD,MAAMgF,QAAQ,GAAGhF,MAAM,CAAsB,IAAI,CAAC;;EAElD;EACA,MAAMiF,cAAc,GAAGlF,WAAW,CAAC,MAAM;IAAA,IAAAmF,qBAAA;IACvC,CAAAA,qBAAA,GAAAH,cAAc,CAACI,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,WAAW,GAAGvF,WAAW,CAAC,YAAY;IAC1C,MAAMmC,OAAO,GAAG8B,YAAY,CAACK,YAAY,CAACkB,IAAI,CAAC,CAAC;;IAEhD;IACA,MAAMC,UAAU,GAAG5E,YAAY,CAAC6E,eAAe,CAACvD,OAAO,CAAC;IACxD,IAAI,CAACsD,UAAU,CAACE,OAAO,EAAE;MACvBzB,eAAe,CAAC0B,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAErB,KAAK,EAAEkB,UAAU,CAAClB,KAAK,IAAI;MAAK,CAAC,CAAC,CAAC;MACvE;IACF;;IAEA;IACA,MAAMsB,WAAwB,GAAG;MAC/BpC,EAAE,EAAE5C,YAAY,CAACiF,iBAAiB,CAAC,CAAC;MACpC3D,OAAO;MACPE,MAAM,EAAE,MAAM;MACdW,SAAS,EAAE,IAAI+C,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC;IAED9B,eAAe,CAAC0B,IAAI,KAAK;MACvB,GAAGA,IAAI;MACPzB,QAAQ,EAAE,CAAC,GAAGyB,IAAI,CAACzB,QAAQ,EAAE0B,WAAW,CAAC;MACzCvB,YAAY,EAAE,EAAE;MAChBF,SAAS,EAAE,IAAI;MACfC,QAAQ,EAAE,IAAI;MACdE,KAAK,EAAE;IACT,CAAC,CAAC,CAAC;IAEH,IAAI;MACF;MACA,MAAM0B,QAAQ,GAAG,MAAMrF,UAAU,CAACsF,oBAAoB,CAAC/D,OAAO,CAAC;MAE/D,IAAI,SAAS,IAAI8D,QAAQ,IAAIA,QAAQ,CAACE,OAAO,EAAE;QAC7C;QACA,MAAMC,WAAW,GAAGvF,YAAY,CAACwF,oBAAoB,CAACJ,QAAQ,CAACK,KAAK,CAAC;QAErEC,UAAU,CAAC,MAAM;UACf,MAAMC,UAAuB,GAAG;YAC9B/C,EAAE,EAAE5C,YAAY,CAACiF,iBAAiB,CAAC,CAAC;YACpC3D,OAAO,EAAE8D,QAAQ,CAACK,KAAK;YACvBjE,MAAM,EAAE,KAAK;YACbW,SAAS,EAAEiD,QAAQ,CAACjD,SAAS;YAC7BL,UAAU,EAAEsD,QAAQ,CAACtD,UAAU;YAC/B8D,MAAM,EAAER,QAAQ,CAACQ;UACnB,CAAC;UAEDvC,eAAe,CAAC0B,IAAI,KAAK;YACvB,GAAGA,IAAI;YACPzB,QAAQ,EAAE,CAAC,GAAGyB,IAAI,CAACzB,QAAQ,EAAEqC,UAAU,CAAC;YACxCpC,SAAS,EAAE,KAAK;YAChBC,QAAQ,EAAE;UACZ,CAAC,CAAC,CAAC;QACL,CAAC,EAAE+B,WAAW,CAAC;MACjB,CAAC,MAAM;QACX,MAAMM,GAAG,GAAG,OAAO,IAAIT,QAAQ,GAAGA,QAAQ,CAAC1B,KAAK,GAAG,eAAe;QAClE,MAAM,IAAIoC,KAAK,CAACD,GAAG,CAAC;MACtB;IACI,CAAC,CAAC,OAAOnC,KAAK,EAAE;MACdL,eAAe,CAAC0B,IAAI,KAAK;QACvB,GAAGA,IAAI;QACPxB,SAAS,EAAE,KAAK;QAChBC,QAAQ,EAAE,KAAK;QACfE,KAAK,EAAEA,KAAK,YAAYoC,KAAK,GAAGpC,KAAK,CAACpC,OAAO,GAAG;MAClD,CAAC,CAAC,CAAC;IACL;EACF,CAAC,EAAE,CAAC8B,YAAY,CAACK,YAAY,CAAC,CAAC;;EAE/B;EACA,MAAMsC,iBAAiB,GAAG5G,WAAW,CAAE6G,CAAyC,IAAK;IACnF,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;IAC5B,IAAIA,KAAK,CAACpE,MAAM,IAAI,GAAG,EAAE;MACvBwB,eAAe,CAAC0B,IAAI,KAAK;QACvB,GAAGA,IAAI;QACPtB,YAAY,EAAEwC,KAAK;QACnBvC,KAAK,EAAE;MACT,CAAC,CAAC,CAAC;IACL;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMyC,aAAa,GAAGhH,WAAW,CAAE6G,CAAsB,IAAK;IAC5D,IAAIA,CAAC,CAACI,GAAG,KAAK,OAAO,IAAI,CAACJ,CAAC,CAACK,QAAQ,EAAE;MACpCL,CAAC,CAACM,cAAc,CAAC,CAAC;MAClB,IAAI,CAAClD,YAAY,CAACG,SAAS,IAAIH,YAAY,CAACK,YAAY,CAACkB,IAAI,CAAC,CAAC,EAAE;QAC/DD,WAAW,CAAC,CAAC;MACf;IACF;EACF,CAAC,EAAE,CAACtB,YAAY,CAACG,SAAS,EAAEH,YAAY,CAACK,YAAY,EAAEiB,WAAW,CAAC,CAAC;;EAEpE;EACA,MAAM6B,kBAAkB,GAAGpH,WAAW,CAAC,YAAY;IACjD,IAAI;MACF,MAAMqH,IAAI,GAAG,MAAMvG,YAAY,CAACwG,gBAAgB,CAAC,CAAC;MAClD5C,mBAAmB,CAAC2C,IAAI,CAAC;IAC3B,CAAC,CAAC,OAAO9C,KAAK,EAAE;MACdgD,OAAO,CAAChD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACzC;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAxE,SAAS,CAAC,MAAM;IACd;IACA,MAAMyH,cAAc,GAAG3G,YAAY,CAAC4G,oBAAoB,CAAC,CAAC;IAC1DvD,eAAe,CAAC0B,IAAI,KAAK;MACvB,GAAGA,IAAI;MACPzB,QAAQ,EAAE,CAACqD,cAAc;IAC3B,CAAC,CAAC,CAAC;;IAEH;IACAJ,kBAAkB,CAAC,CAAC;;IAEpB;IACAb,UAAU,CAAC,MAAM;MAAA,IAAAmB,iBAAA;MACf,CAAAA,iBAAA,GAAAzC,QAAQ,CAACG,OAAO,cAAAsC,iBAAA,uBAAhBA,iBAAA,CAAkBC,KAAK,CAAC,CAAC;IAC3B,CAAC,EAAE,GAAG,CAAC;EACT,CAAC,EAAE,CAACP,kBAAkB,CAAC,CAAC;;EAExB;EACArH,SAAS,CAAC,MAAM;IACdmF,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACjB,YAAY,CAACE,QAAQ,EAAEF,YAAY,CAACI,QAAQ,EAAEa,cAAc,CAAC,CAAC;;EAElE;EACAnF,SAAS,CAAC,MAAM;IACd,IAAIkE,YAAY,CAACE,QAAQ,CAACzB,MAAM,GAAG,CAAC,EAAE;MACpC7B,YAAY,CAAC+G,kBAAkB,CAAC3D,YAAY,CAACE,QAAQ,CAAC;IACxD;EACF,CAAC,EAAE,CAACF,YAAY,CAACE,QAAQ,CAAC,CAAC;EAE3B,MAAM0D,OAAO,GAAG5D,YAAY,CAACK,YAAY,CAACkB,IAAI,CAAC,CAAC,CAAC9C,MAAM,GAAG,CAAC,IAAI,CAACuB,YAAY,CAACG,SAAS;EACtF,MAAM0D,SAAS,GAAG7D,YAAY,CAACK,YAAY,CAAC5B,MAAM;EAClD,MAAMqF,cAAc,GAAGD,SAAS,GAAG,GAAG,GAAG,OAAO,GAAGA,SAAS,GAAG,GAAG,GAAG,SAAS,GAAG,EAAE;EAEnF,oBACE7G,OAAA;IAAKI,SAAS,EAAC,WAAW;IAAAG,QAAA,gBAExBP,OAAA;MAAKI,SAAS,EAAC,SAAS;MAAAG,QAAA,gBACtBP,OAAA;QAAKI,SAAS,EAAC,aAAa;QAAAG,QAAA,gBAC1BP,OAAA;UAAKI,SAAS,EAAC,eAAe;UAAAG,QAAA,gBAC5BP,OAAA;YAAKI,SAAS,EAAC,UAAU;YAAAG,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACpCZ,OAAA;YAAKI,SAAS,EAAC,YAAY;YAAAG,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,eACNZ,OAAA;UAAKI,SAAS,EAAC,aAAa;UAAAG,QAAA,EAAC;QAAgB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD,CAAC,eAENZ,OAAA;QAAKI,SAAS,EAAC,YAAY;QAAAG,QAAA,gBACzBP,OAAA;UAAQI,SAAS,EAAC,aAAa;UAACqC,OAAO,EAAEK,cAAe;UAAAvC,QAAA,gBACtDP,OAAA;YAAAO,QAAA,eAAMP,OAAA,CAACN,aAAa;cAACsC,IAAI,EAAE;YAAG;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACxCZ,OAAA;YAAAO,QAAA,EAAM;UAAS;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC,eACTZ,OAAA;UAAQI,SAAS,EAAC,+BAA+B;UAAAG,QAAA,gBAC/CP,OAAA;YAAAO,QAAA,eAAMP,OAAA,CAACN,aAAa;cAACsC,IAAI,EAAE;YAAG;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACxCZ,OAAA;YAAAO,QAAA,EAAM;UAAO;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAAC,eACTZ,OAAA;UAAQI,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC7BP,OAAA;YAAAO,QAAA,eAAMP,OAAA,CAACN,aAAa;cAACsC,IAAI,EAAE;YAAG;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACxCZ,OAAA;YAAAO,QAAA,EAAM;UAAO;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAAC,eACTZ,OAAA;UAAQI,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC7BP,OAAA;YAAAO,QAAA,eAAMP,OAAA,CAACN,aAAa;cAACsC,IAAI,EAAE;YAAG;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACxCZ,OAAA;YAAAO,QAAA,EAAM;UAAQ;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACf,CAAC,eACTZ,OAAA;UAAQI,SAAS,EAAC,aAAa;UAAAG,QAAA,gBAC7BP,OAAA;YAAAO,QAAA,eAAMP,OAAA,CAACN,aAAa;cAACsC,IAAI,EAAE;YAAG;cAAAvB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACxCZ,OAAA;YAAAO,QAAA,EAAM;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENZ,OAAA;QAAKI,SAAS,EAAC,eAAe;QAAAG,QAAA,eAC5BP,OAAA;UAAKI,SAAS,EAAC,YAAY;UAAAG,QAAA,EAAC;QAAa;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNZ,OAAA;MAAKI,SAAS,EAAC,aAAa;MAAAG,QAAA,gBAE1BP,OAAA;QAAQI,SAAS,EAAC,QAAQ;QAAAG,QAAA,eACxBP,OAAA;UAAKI,SAAS,EAAC,eAAe;UAAAG,QAAA,gBAC5BP,OAAA;YAAAO,QAAA,gBACEP,OAAA;cAAII,SAAS,EAAC,aAAa;cAAAG,QAAA,EAAC;YAAO;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxCZ,OAAA;cAAGI,SAAS,EAAC,gBAAgB;cAAAG,QAAA,EAAE,IAAIuE,IAAI,CAAC,CAAC,CAACiC,cAAc,CAAC,OAAO;YAAC;cAAAtG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnE,CAAC,eAENZ,OAAA;YAAKI,SAAS,EAAC,eAAe;YAAAG,QAAA,gBAE5BP,OAAA;cAAKI,SAAS,EAAC,uBAAuB;cAAAG,QAAA,gBACpCP,OAAA;gBACEyC,OAAO,EAAEA,CAAA,KAAM;kBACbmB,qBAAqB,CAAC,CAACD,kBAAkB,CAAC;kBAC1CG,kBAAkB,CAAC,KAAK,CAAC;gBAC3B,CAAE;gBACF1D,SAAS,EAAC,oBAAoB;gBAAAG,QAAA,gBAE9BP,OAAA,CAACf,IAAI;kBAAC+C,IAAI,EAAE;gBAAG;kBAAAvB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,EACjB4C,gBAAgB,CAACE,KAAK,GAAG,CAAC,iBACzB1D,OAAA;kBAAMI,SAAS,EAAC,mBAAmB;kBAAAG,QAAA,EAChCiD,gBAAgB,CAACE,KAAK,GAAG,EAAE,GAAG,KAAK,GAAGF,gBAAgB,CAACE;gBAAK;kBAAAjD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzD,CACP;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACK,CAAC,eAETZ,OAAA,CAACkC,oBAAoB;gBACnBC,MAAM,EAAEwB,kBAAmB;gBAC3BvB,OAAO,EAAEA,CAAA,KAAMwB,qBAAqB,CAAC,KAAK,CAAE;gBAC5CvB,aAAa,EAAEmB,gBAAgB,CAACnB;cAAc;gBAAA5B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAGNZ,OAAA;cAAKI,SAAS,EAAC,gBAAgB;cAAAG,QAAA,gBAC7BP,OAAA;gBACEyC,OAAO,EAAEA,CAAA,KAAM;kBACbqB,kBAAkB,CAAC,CAACD,eAAe,CAAC;kBACpCD,qBAAqB,CAAC,KAAK,CAAC;gBAC9B,CAAE;gBACFxD,SAAS,EAAC,aAAa;gBAAAG,QAAA,gBAEvBP,OAAA;kBAAKI,SAAS,EAAC,aAAa;kBAAAG,QAAA,eAC1BP,OAAA,CAACd,IAAI;oBAAC8C,IAAI,EAAE,EAAG;oBAACgF,KAAK,EAAE;sBAAEC,KAAK,EAAE;oBAAQ;kBAAE;oBAAAxG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1C,CAAC,eACNZ,OAAA;kBAAMI,SAAS,EAAC,YAAY;kBAAAG,QAAA,EAAC;gBAAK;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnC,CAAC,eAETZ,OAAA,CAAC2C,aAAa;gBACZR,MAAM,EAAE0B,eAAgB;gBACxBzB,OAAO,EAAEA,CAAA,KAAM0B,kBAAkB,CAAC,KAAK;cAAE;gBAAArD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eAGTZ,OAAA;QAAKI,SAAS,EAAC,kBAAkB;QAAAG,QAAA,gBAE/BP,OAAA;UAAKI,SAAS,EAAC,eAAe;UAAAG,QAAA,gBAC5BP,OAAA;YAAKI,SAAS,EAAC,mBAAmB;YAAAG,QAAA,gBAChCP,OAAA;cACEI,SAAS,EAAC,mBAAmB;cAC7BqC,OAAO,EAAEK,cAAe;cACxB,cAAW,2BAAO;cAAAvC,QAAA,eAElBP,OAAA,CAACb,WAAW;gBAAC6C,IAAI,EAAE;cAAG;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC,eAETZ,OAAA;cAAKI,SAAS,EAAC,kBAAkB;cAAAG,QAAA,gBAC/BP,OAAA;gBAAKI,SAAS,EAAC,kBAAkB;gBAAAG,QAAA,EAAC;cAAU;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAClDZ,OAAA;gBAAKI,SAAS,EAAC,oBAAoB;gBAAAG,QAAA,eACjCP,OAAA;kBAAMI,SAAS,EAAE,mCAAmC4C,YAAY,CAACO,WAAW,EAAG;kBAAAhD,QAAA,EAC5EyC,YAAY,CAACO;gBAAW;kBAAA9C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrB;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENZ,OAAA;YAAKI,SAAS,EAAC,sBAAsB;YAAAG,QAAA,gBACnCP,OAAA;cAAQI,SAAS,EAAC,qBAAqB;cAAC,cAAW,cAAI;cAAAG,QAAA,eACrDP,OAAA,CAACZ,OAAO;gBAAC4C,IAAI,EAAE;cAAG;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACf,CAAC,eACTZ,OAAA;cAAQI,SAAS,EAAC,qBAAqB;cAAC,cAAW,0BAAM;cAAAG,QAAA,eACvDP,OAAA,CAACX,IAAI;gBAAC2C,IAAI,EAAE;cAAG;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CAAC,eACTZ,OAAA;cAAQI,SAAS,EAAC,qBAAqB;cAAC,cAAW,cAAI;cAAAG,QAAA,eACrDP,OAAA,CAACV,MAAM;gBAAC0C,IAAI,EAAE;cAAG;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACd,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNZ,OAAA;UAAKI,SAAS,EAAC,0BAA0B;UAAAG,QAAA,eACvCP,OAAA;YAAKI,SAAS,EAAC,iBAAiB;YAAAG,QAAA,GAC7ByC,YAAY,CAACE,QAAQ,CAAC5B,GAAG,CAAEJ,OAAO,iBACjClB,OAAA,CAACiB,WAAW;cAAkBC,OAAO,EAAEA;YAAQ,GAA7BA,OAAO,CAACsB,EAAE;cAAA/B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAqB,CAClD,CAAC,EAEDoC,YAAY,CAACI,QAAQ,iBAAIpD,OAAA,CAACG,eAAe;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAE7CZ,OAAA;cAAKkH,GAAG,EAAEnD;YAAe;cAAAtD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAGLoC,YAAY,CAACM,KAAK,iBACjBtD,OAAA;UAAKI,SAAS,EAAC,qBAAqB;UAAAG,QAAA,EACjCyC,YAAY,CAACM;QAAK;UAAA7C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CACN,eAGDZ,OAAA;UAAKI,SAAS,EAAC,uBAAuB;UAAAG,QAAA,eACpCP,OAAA;YAAKI,SAAS,EAAC,qBAAqB;YAAAG,QAAA,gBAClCP,OAAA;cACEI,SAAS,EAAC,qBAAqB;cAC/B,cAAW,2BAAO;cAAAG,QAAA,eAElBP,OAAA,CAACT,SAAS;gBAACyC,IAAI,EAAE;cAAG;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB,CAAC,eAETZ,OAAA;cAAKgH,KAAK,EAAE;gBAAEG,QAAQ,EAAE,UAAU;gBAAEC,IAAI,EAAE;cAAE,CAAE;cAAA7G,QAAA,gBAC5CP,OAAA;gBACEkH,GAAG,EAAElD,QAAS;gBACd5D,SAAS,EAAC,mBAAmB;gBAC7ByF,KAAK,EAAE7C,YAAY,CAACK,YAAa;gBACjCgE,QAAQ,EAAE1B,iBAAkB;gBAC5B2B,SAAS,EAAEvB,aAAc;gBACzBwB,WAAW,EAAC,eAAe;gBAC3BC,IAAI,EAAE,CAAE;gBACRC,QAAQ,EAAEzE,YAAY,CAACG;cAAU;gBAAA1C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClC,CAAC,eACFZ,OAAA;gBAAKI,SAAS,EAAE,sBAAsB0G,cAAc,EAAG;gBAAAvG,QAAA,GACpDsG,SAAS,EAAC,MACb;cAAA;gBAAApG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENZ,OAAA;cACEI,SAAS,EAAC,mBAAmB;cAC7BqC,OAAO,EAAE6B,WAAY;cACrBmD,QAAQ,EAAE,CAACb,OAAQ;cACnB,cAAW,iCAAQ;cAAArG,QAAA,eAEnBP,OAAA,CAACR,IAAI;gBAACwC,IAAI,EAAE;cAAG;gBAAAvB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACmC,EAAA,CAlWIF,aAA2C;AAAA6E,GAAA,GAA3C7E,aAA2C;AAoWjD,eAAeA,aAAa;AAAC,IAAA7B,EAAA,EAAAiB,GAAA,EAAAS,GAAA,EAAAE,GAAA,EAAA8E,GAAA;AAAAC,YAAA,CAAA3G,EAAA;AAAA2G,YAAA,CAAA1F,GAAA;AAAA0F,YAAA,CAAAjF,GAAA;AAAAiF,YAAA,CAAA/E,GAAA;AAAA+E,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}