{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arh05\\\\AWS2_GIOT_FULL\\\\frontend\\\\src\\\\pages\\\\Chatbot\\\\ChatbotScreen.tsx\",\n  _s = $RefreshSig$();\n// ChatbotScreen.tsx - 챗봇 화면 컴포넌트\n// 최상단에 추가\n\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { Bell, User, ChevronLeft, Printer, Star, Trash2, Paperclip, Send, MoreHorizontal, MessageCircle } from 'lucide-react';\nimport { ChatbotAPI, ChatbotUtils } from '../../services/ChatbotTypes';\nimport { DashboardAPI } from '../../services/DashboardTypes';\nimport styles from \"./ChatbotScreen.module.css\";\nimport sidebarStyles from \"../Dashboard/Sidebar.module.css\";\n\n// 타이핑 인디케이터 컴포넌트\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TypingIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `${styles.chatbotMessageItem} ${styles.bot}`,\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${styles.chatbotMessageAvatar} ${styles.bot}`,\n    children: \"AWS\\xB2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.chatbotTypingIndicator,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.chatbotTypingBubble,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.chatbotTypingDot\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.chatbotTypingDot\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.chatbotTypingDot\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 26,\n  columnNumber: 3\n}, this);\n\n// 메시지 아이템 컴포넌트\n_c = TypingIndicator;\nconst MessageItem = ({\n  message\n}) => {\n  const isBot = message.sender === 'bot';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${styles.chatbotMessageItem} ${styles[message.sender]}`,\n    children: [isBot && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.chatbotMessageAvatar} ${styles.bot}`,\n      children: \"AWS\\xB2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.chatbotMessageBubble,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.chatbotMessageContent} ${styles[message.sender]}`,\n        children: [message.message.split('\\n').map((line, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [line, index < message.message.split('\\n').length - 1 && /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 66\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)), isBot && message.sensorData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.chatbotSensorData,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.chatbotSensorItem,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uC628\\uB3C4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [message.sensorData.temperature, \"\\xB0C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.chatbotSensorItem,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uC2B5\\uB3C4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [message.sensorData.humidity, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.chatbotSensorItem,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uAC00\\uC2A4\\uB18D\\uB3C4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [message.sensorData.gasConcentration, \"ppm\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.chatbotMessageMeta} ${styles[message.sender]}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.chatbotMessageTime,\n          children: ChatbotUtils.formatTime(message.timestamp)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.chatbotMessageActions,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.chatbotMessageActionButton,\n            children: /*#__PURE__*/_jsxDEV(MoreHorizontal, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), !isBot && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.chatbotMessageAvatar} ${styles.user}`,\n      children: \"A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n// 알림 드롭다운 컴포넌트 (Dashboard에서 재사용)\n_c2 = MessageItem;\nconst NotificationDropdown = ({\n  isOpen,\n  onClose,\n  notifications\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.dropdown,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.dropdownHeader,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: styles.dropdownTitle,\n          children: \"\\uC54C\\uB9BC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.notificationList,\n        children: notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.emptyNotification,\n          children: \"\\uC0C8\\uB85C\\uC6B4 \\uC54C\\uB9BC\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this) : notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.notificationItem} ${!notification.read ? styles.notificationItemUnread : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.notificationMessage,\n            children: notification.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.notificationTimestamp,\n            children: notification.timestamp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this)]\n        }, notification.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      className: styles.dropdownOverlay,\n      \"aria-label\": \"\\uC54C\\uB9BC \\uB2EB\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n// 관리자 드롭다운 컴포넌트 (Dashboard에서 재사용)\n_c3 = NotificationDropdown;\nconst AdminDropdown = ({\n  isOpen,\n  onClose\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.adminDropdown,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.adminDropdownContent,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.adminDropdownItem,\n          children: \"\\uD504\\uB85C\\uD544 \\uC124\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.adminDropdownItem,\n          children: \"\\uACC4\\uC815 \\uAD00\\uB9AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.adminDropdownDivider\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${styles.adminDropdownItem} ${styles.adminDropdownLogout}`,\n          children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      className: styles.dropdownOverlay,\n      \"aria-label\": \"\\uAD00\\uB9AC\\uC790 \\uBA54\\uB274 \\uB2EB\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_c4 = AdminDropdown;\nconst ChatbotScreen = ({\n  onNavigateBack\n}) => {\n  _s();\n  const [chatbotState, setChatbotState] = useState({\n    messages: [],\n    isLoading: false,\n    isTyping: false,\n    inputMessage: '',\n    error: null,\n    modelStatus: 'Active'\n  });\n  const [notificationData, setNotificationData] = useState({\n    count: 0,\n    notifications: []\n  });\n  const [isNotificationOpen, setIsNotificationOpen] = useState(false);\n  const [isAdminMenuOpen, setIsAdminMenuOpen] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // 메시지 영역 스크롤을 맨 아래로\n  const scrollToBottom = useCallback(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, []);\n\n  // 메시지 전송\n  const sendMessage = useCallback(async () => {\n    const message = chatbotState.inputMessage.trim();\n\n    // 메시지 검증\n    const validation = ChatbotUtils.validateMessage(message);\n    if (!validation.isValid) {\n      setChatbotState(prev => ({\n        ...prev,\n        error: validation.error || null\n      }));\n      return;\n    }\n\n    // 사용자 메시지 추가\n    const userMessage = {\n      id: ChatbotUtils.generateMessageId(),\n      message,\n      sender: 'user',\n      timestamp: new Date().toISOString()\n    };\n    setChatbotState(prev => ({\n      ...prev,\n      messages: [...prev.messages, userMessage],\n      inputMessage: '',\n      isLoading: true,\n      isTyping: true,\n      error: null\n    }));\n    try {\n      // API 호출 (개발 시에는 목 응답 사용)\n      const response = await ChatbotAPI.generateMockResponse(message);\n      if ('success' in response && response.success) {\n        // 타이핑 효과를 위한 지연\n        const typingDelay = ChatbotUtils.calculateTypingDelay(response.reply);\n        setTimeout(() => {\n          const botMessage = {\n            id: ChatbotUtils.generateMessageId(),\n            message: response.reply,\n            sender: 'bot',\n            timestamp: response.timestamp,\n            sensorData: response.sensorData,\n            status: response.status\n          };\n          setChatbotState(prev => ({\n            ...prev,\n            messages: [...prev.messages, botMessage],\n            isLoading: false,\n            isTyping: false\n          }));\n        }, typingDelay);\n      } else {\n        const msg = 'error' in response ? response.error : 'Unknown error';\n        throw new Error(msg);\n      }\n    } catch (error) {\n      setChatbotState(prev => ({\n        ...prev,\n        isLoading: false,\n        isTyping: false,\n        error: error instanceof Error ? error.message : '답변을 생성할 수 없습니다.'\n      }));\n    }\n  }, [chatbotState.inputMessage]);\n\n  // 입력 필드 변경 핸들러\n  const handleInputChange = useCallback(e => {\n    const value = e.target.value;\n    if (value.length <= 300) {\n      setChatbotState(prev => ({\n        ...prev,\n        inputMessage: value,\n        error: null\n      }));\n    }\n  }, []);\n\n  // 키보드 이벤트 핸들러\n  const handleKeyDown = useCallback(e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      if (!chatbotState.isLoading && chatbotState.inputMessage.trim()) {\n        sendMessage();\n      }\n    }\n  }, [chatbotState.isLoading, chatbotState.inputMessage, sendMessage]);\n\n  // 알림 데이터 가져오기\n  const fetchNotifications = useCallback(async () => {\n    try {\n      const data = await DashboardAPI.getNotifications();\n      setNotificationData(data);\n    } catch (error) {\n      console.error('알림 데이터 가져오기 실패:', error);\n    }\n  }, []);\n\n  // 컴포넌트 마운트 시 초기화\n  useEffect(() => {\n    // 환영 메시지 추가\n    const welcomeMessage = ChatbotUtils.createWelcomeMessage();\n    setChatbotState(prev => ({\n      ...prev,\n      messages: [welcomeMessage]\n    }));\n\n    // 알림 데이터 가져오기\n    fetchNotifications();\n\n    // 입력 필드에 포커스\n    setTimeout(() => {\n      var _inputRef$current;\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }, 100);\n  }, [fetchNotifications]);\n\n  // 메시지 추가 시 스크롤\n  useEffect(() => {\n    scrollToBottom();\n  }, [chatbotState.messages, chatbotState.isTyping, scrollToBottom]);\n\n  // 메시지 히스토리 저장\n  useEffect(() => {\n    if (chatbotState.messages.length > 0) {\n      ChatbotUtils.saveMessageHistory(chatbotState.messages);\n    }\n  }, [chatbotState.messages]);\n  const canSend = chatbotState.inputMessage.trim().length > 0 && !chatbotState.isLoading;\n  const charCount = chatbotState.inputMessage.length;\n  const charCountClass = charCount > 250 ? 'error' : charCount > 200 ? 'warning' : '';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: sidebarStyles.sidebar,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: sidebarStyles.logoSection,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: sidebarStyles.logoContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.logoMain,\n            children: \"AWS\\xB2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.logoAccent,\n            children: \"GIoT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: sidebarStyles.logoSubtext,\n          children: \"IoT Cloud System\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: sidebarStyles.navigation,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: sidebarStyles.sidebarItem,\n          onClick: onNavigateBack,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `${sidebarStyles.sidebarItem} ${sidebarStyles.sidebarItemActive}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Chatbot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: sidebarStyles.sidebarItem,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: sidebarStyles.sidebarItem,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: sidebarStyles.sidebarItem,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: sidebarStyles.sidebarFooter,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: sidebarStyles.footerText,\n          children: \"2025 GBSA AWS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.mainContent,\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: styles.header,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.headerContent,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: styles.headerTitle,\n              children: \"Chatbot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.headerSubtitle,\n              children: new Date().toLocaleString('ko-KR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.headerActions,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.notificationContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setIsNotificationOpen(!isNotificationOpen);\n                  setIsAdminMenuOpen(false);\n                },\n                className: styles.notificationButton,\n                children: [/*#__PURE__*/_jsxDEV(Bell, {\n                  size: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 19\n                }, this), notificationData.count > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.notificationBadge,\n                  children: notificationData.count > 99 ? '99+' : notificationData.count\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(NotificationDropdown, {\n                isOpen: isNotificationOpen,\n                onClose: () => setIsNotificationOpen(false),\n                notifications: notificationData.notifications\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.adminContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setIsAdminMenuOpen(!isAdminMenuOpen);\n                  setIsNotificationOpen(false);\n                },\n                className: styles.adminButton,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.adminAvatar,\n                  children: /*#__PURE__*/_jsxDEV(User, {\n                    size: 18,\n                    style: {\n                      color: 'white'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.adminLabel,\n                  children: \"Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AdminDropdown, {\n                isOpen: isAdminMenuOpen,\n                onClose: () => setIsAdminMenuOpen(false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.chatbotContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.chatbotHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.chatbotHeaderLeft,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.chatbotBackButton,\n              onClick: onNavigateBack,\n              \"aria-label\": \"\\uB4A4\\uB85C \\uAC00\\uAE30\",\n              children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.chatbotModelInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.chatbotModelName,\n                children: \"Model Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.chatbotModelStatus,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${styles.chatbotStatusBadge} ${styles[`chatbotStatus${chatbotState.modelStatus}`]}`,\n                  children: chatbotState.modelStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.chatbotHeaderActions,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.chatbotActionButton,\n              \"aria-label\": \"\\uC778\\uC1C4\",\n              children: /*#__PURE__*/_jsxDEV(Printer, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.chatbotActionButton,\n              \"aria-label\": \"\\uC990\\uACA8\\uCC3E\\uAE30\",\n              children: /*#__PURE__*/_jsxDEV(Star, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.chatbotActionButton,\n              \"aria-label\": \"\\uC0AD\\uC81C\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.chatbotMessagesContainer,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.chatbotMessages,\n            children: [chatbotState.messages.map(message => /*#__PURE__*/_jsxDEV(MessageItem, {\n              message: message\n            }, message.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this)), chatbotState.isTyping && /*#__PURE__*/_jsxDEV(TypingIndicator, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this), chatbotState.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.chatbotErrorMessage,\n          children: chatbotState.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.chatbotInputContainer,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.chatbotInputWrapper,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.chatbotAttachButton,\n              \"aria-label\": \"\\uD30C\\uC77C \\uCCA8\\uBD80\",\n              children: /*#__PURE__*/_jsxDEV(Paperclip, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'relative',\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: inputRef,\n                className: styles.chatbotInputField,\n                value: chatbotState.inputMessage,\n                onChange: handleInputChange,\n                onKeyDown: handleKeyDown,\n                placeholder: \"Write message\",\n                rows: 1,\n                disabled: chatbotState.isLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `${styles.chatbotCharCounter} ${charCountClass}`,\n                children: [charCount, \"/300\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.chatbotSendButton,\n              onClick: sendMessage,\n              disabled: !canSend,\n              \"aria-label\": \"\\uBA54\\uC2DC\\uC9C0 \\uC804\\uC1A1\",\n              children: /*#__PURE__*/_jsxDEV(Send, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 321,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatbotScreen, \"g5zZhLMMxpofdxDYl6wh5iAPNQw=\");\n_c5 = ChatbotScreen;\nexport default ChatbotScreen;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"TypingIndicator\");\n$RefreshReg$(_c2, \"MessageItem\");\n$RefreshReg$(_c3, \"NotificationDropdown\");\n$RefreshReg$(_c4, \"AdminDropdown\");\n$RefreshReg$(_c5, \"ChatbotScreen\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Bell","User","ChevronLeft","Printer","Star","Trash2","Paperclip","Send","MoreHorizontal","MessageCircle","ChatbotAPI","ChatbotUtils","DashboardAPI","styles","sidebarStyles","jsxDEV","_jsxDEV","Fragment","_Fragment","TypingIndicator","className","chatbotMessageItem","bot","children","chatbotMessageAvatar","fileName","_jsxFileName","lineNumber","columnNumber","chatbotTypingIndicator","chatbotTypingBubble","chatbotTypingDot","_c","MessageItem","message","isBot","sender","chatbotMessageBubble","chatbotMessageContent","split","map","line","index","length","sensorData","chatbotSensorData","chatbotSensorItem","temperature","humidity","gasConcentration","chatbotMessageMeta","chatbotMessageTime","formatTime","timestamp","chatbotMessageActions","chatbotMessageActionButton","size","user","_c2","NotificationDropdown","isOpen","onClose","notifications","dropdown","dropdownHeader","dropdownTitle","notificationList","emptyNotification","notification","notificationItem","read","notificationItemUnread","notificationMessage","notificationTimestamp","id","onClick","dropdownOverlay","_c3","AdminDropdown","adminDropdown","adminDropdownContent","adminDropdownItem","adminDropdownDivider","adminDropdownLogout","_c4","ChatbotScreen","onNavigateBack","_s","chatbotState","setChatbotState","messages","isLoading","isTyping","inputMessage","error","modelStatus","notificationData","setNotificationData","count","isNotificationOpen","setIsNotificationOpen","isAdminMenuOpen","setIsAdminMenuOpen","messagesEndRef","inputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","trim","validation","validateMessage","isValid","prev","userMessage","generateMessageId","Date","toISOString","response","generateMockResponse","success","typingDelay","calculateTypingDelay","reply","setTimeout","botMessage","status","msg","Error","handleInputChange","e","value","target","handleKeyDown","key","shiftKey","preventDefault","fetchNotifications","data","getNotifications","console","welcomeMessage","createWelcomeMessage","_inputRef$current","focus","saveMessageHistory","canSend","charCount","charCountClass","container","sidebar","logoSection","logoContainer","logoMain","logoAccent","logoSubtext","navigation","sidebarItem","sidebarItemActive","sidebarFooter","footerText","mainContent","header","headerContent","headerTitle","headerSubtitle","toLocaleString","headerActions","notificationContainer","notificationButton","notificationBadge","adminContainer","adminButton","adminAvatar","style","color","adminLabel","chatbotContainer","chatbotHeader","chatbotHeaderLeft","chatbotBackButton","chatbotModelInfo","chatbotModelName","chatbotModelStatus","chatbotStatusBadge","chatbotHeaderActions","chatbotActionButton","chatbotMessagesContainer","chatbotMessages","ref","chatbotErrorMessage","chatbotInputContainer","chatbotInputWrapper","chatbotAttachButton","position","flex","chatbotInputField","onChange","onKeyDown","placeholder","rows","disabled","chatbotCharCounter","chatbotSendButton","_c5","$RefreshReg$"],"sources":["C:/Users/arh05/AWS2_GIOT_FULL/frontend/src/pages/Chatbot/ChatbotScreen.tsx"],"sourcesContent":["// ChatbotScreen.tsx - 챗봇 화면 컴포넌트\r\n// 최상단에 추가\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { \r\n  Bell, \r\n  User, \r\n  ChevronLeft, \r\n  ChevronDown,\r\n  Printer, \r\n  Star, \r\n  Trash2, \r\n  Paperclip, \r\n  Send,\r\n  MoreHorizontal,\r\n  MessageCircle\r\n} from 'lucide-react';\r\nimport { ChatbotState, ChatMessage, ChatbotAPI, ChatbotUtils } from '../../services/ChatbotTypes';\r\nimport { NotificationData, DashboardAPI, SidebarItemProps} from '../../services/DashboardTypes';\r\nimport styles from \"./ChatbotScreen.module.css\";\r\nimport sidebarStyles from \"../Dashboard/Sidebar.module.css\";\r\n\r\n\r\n// 타이핑 인디케이터 컴포넌트\r\nconst TypingIndicator: React.FC = () => (\r\n  <div className={`${styles.chatbotMessageItem} ${styles.bot}`}>\r\n    <div className={`${styles.chatbotMessageAvatar} ${styles.bot}`}>AWS²</div>\r\n    <div className={styles.chatbotTypingIndicator}>\r\n      <div className={styles.chatbotTypingBubble}>\r\n        <div className={styles.chatbotTypingDot}></div>\r\n        <div className={styles.chatbotTypingDot}></div>\r\n        <div className={styles.chatbotTypingDot}></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// 메시지 아이템 컴포넌트\r\nconst MessageItem: React.FC<{ message: ChatMessage }> = ({ message }) => {\r\n  const isBot = message.sender === 'bot';\r\n  \r\n  return (\r\n    <div className={`${styles.chatbotMessageItem} ${styles[message.sender]}`}>\r\n      {isBot && (\r\n        <div className={`${styles.chatbotMessageAvatar} ${styles.bot}`}>AWS²</div>\r\n      )}\r\n      \r\n      <div className={styles.chatbotMessageBubble}>\r\n        <div className={`${styles.chatbotMessageContent} ${styles[message.sender]}`}>\r\n          {message.message.split('\\n').map((line, index) => (\r\n            <React.Fragment key={index}>\r\n              {line}\r\n              {index < message.message.split('\\n').length - 1 && <br />}\r\n            </React.Fragment>\r\n          ))}\r\n          \r\n          {/* 센서 데이터 표시 (봇 메시지인 경우) */}\r\n          {isBot && message.sensorData && (\r\n            <div className={styles.chatbotSensorData}>\r\n              <div className={styles.chatbotSensorItem}>\r\n                <span>온도:</span>\r\n                <span>{message.sensorData.temperature}°C</span>\r\n              </div>\r\n              <div className={styles.chatbotSensorItem}>\r\n                <span>습도:</span>\r\n                <span>{message.sensorData.humidity}%</span>\r\n              </div>\r\n              <div className={styles.chatbotSensorItem}>\r\n                <span>가스농도:</span>\r\n                <span>{message.sensorData.gasConcentration}ppm</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className={`${styles.chatbotMessageMeta} ${styles[message.sender]}`}>\r\n          <span className={styles.chatbotMessageTime}>\r\n            {ChatbotUtils.formatTime(message.timestamp)}\r\n          </span>\r\n          <div className={styles.chatbotMessageActions}>\r\n            <button className={styles.chatbotMessageActionButton}>\r\n              <MoreHorizontal size={12} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {!isBot && (\r\n        <div className={`${styles.chatbotMessageAvatar} ${styles.user}`}>A</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// 알림 드롭다운 컴포넌트 (Dashboard에서 재사용)\r\nconst NotificationDropdown: React.FC<{ \r\n  isOpen: boolean; \r\n  onClose: () => void; \r\n  notifications: NotificationData['notifications'];\r\n}> = ({ isOpen, onClose, notifications }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.dropdown}>\r\n        <div className={styles.dropdownHeader}>\r\n          <h3 className={styles.dropdownTitle}>알림</h3>\r\n        </div>\r\n        <div className={styles.notificationList}>\r\n          {notifications.length === 0 ? (\r\n            <div className={styles.emptyNotification}>새로운 알림이 없습니다</div>\r\n          ) : (\r\n            notifications.map((notification) => (\r\n              <div \r\n                key={notification.id} \r\n                className={`${styles.notificationItem} ${!notification.read ? styles.notificationItemUnread : ''}`}\r\n              >\r\n                <p className={styles.notificationMessage}>{notification.message}</p>\r\n                <p className={styles.notificationTimestamp}>{notification.timestamp}</p>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n      <button \r\n        onClick={onClose}\r\n        className={styles.dropdownOverlay}\r\n        aria-label=\"알림 닫기\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\n// 관리자 드롭다운 컴포넌트 (Dashboard에서 재사용)\r\nconst AdminDropdown: React.FC<{ isOpen: boolean; onClose: () => void }> = ({ isOpen, onClose }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.adminDropdown}>\r\n        <div className={styles.adminDropdownContent}>\r\n          <button className={styles.adminDropdownItem}>프로필 설정</button>\r\n          <button className={styles.adminDropdownItem}>계정 관리</button>\r\n          <div className={styles.adminDropdownDivider} />\r\n          <button className={`${styles.adminDropdownItem} ${styles.adminDropdownLogout}`}>로그아웃</button>\r\n        </div>\r\n      </div>\r\n      <button \r\n        onClick={onClose}\r\n        className={styles.dropdownOverlay}\r\n        aria-label=\"관리자 메뉴 닫기\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\ninterface ChatbotScreenProps {\r\n  onNavigateBack: () => void;\r\n}\r\n\r\nconst ChatbotScreen: React.FC<ChatbotScreenProps> = ({ onNavigateBack }) => {\r\n  const [chatbotState, setChatbotState] = useState<ChatbotState>({\r\n    messages: [],\r\n    isLoading: false,\r\n    isTyping: false,\r\n    inputMessage: '',\r\n    error: null,\r\n    modelStatus: 'Active'\r\n  });\r\n\r\n  const [notificationData, setNotificationData] = useState<NotificationData>({\r\n    count: 0,\r\n    notifications: []\r\n  });\r\n  \r\n  const [isNotificationOpen, setIsNotificationOpen] = useState(false);\r\n  const [isAdminMenuOpen, setIsAdminMenuOpen] = useState(false);\r\n\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  // 메시지 영역 스크롤을 맨 아래로\r\n  const scrollToBottom = useCallback(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, []);\r\n\r\n  // 메시지 전송\r\n  const sendMessage = useCallback(async () => {\r\n    const message = chatbotState.inputMessage.trim();\r\n    \r\n    // 메시지 검증\r\n    const validation = ChatbotUtils.validateMessage(message);\r\n    if (!validation.isValid) {\r\n      setChatbotState(prev => ({ ...prev, error: validation.error || null }));\r\n      return;\r\n    }\r\n\r\n    // 사용자 메시지 추가\r\n    const userMessage: ChatMessage = {\r\n      id: ChatbotUtils.generateMessageId(),\r\n      message,\r\n      sender: 'user',\r\n      timestamp: new Date().toISOString()\r\n    };\r\n\r\n    setChatbotState(prev => ({\r\n      ...prev,\r\n      messages: [...prev.messages, userMessage],\r\n      inputMessage: '',\r\n      isLoading: true,\r\n      isTyping: true,\r\n      error: null\r\n    }));\r\n\r\n    try {\r\n      // API 호출 (개발 시에는 목 응답 사용)\r\n      const response = await ChatbotAPI.generateMockResponse(message);\r\n      \r\n      if ('success' in response && response.success) {\r\n        // 타이핑 효과를 위한 지연\r\n        const typingDelay = ChatbotUtils.calculateTypingDelay(response.reply);\r\n        \r\n        setTimeout(() => {\r\n          const botMessage: ChatMessage = {\r\n            id: ChatbotUtils.generateMessageId(),\r\n            message: response.reply,\r\n            sender: 'bot',\r\n            timestamp: response.timestamp,\r\n            sensorData: response.sensorData,\r\n            status: response.status\r\n          };\r\n\r\n          setChatbotState(prev => ({\r\n            ...prev,\r\n            messages: [...prev.messages, botMessage],\r\n            isLoading: false,\r\n            isTyping: false\r\n          }));\r\n        }, typingDelay);\r\n      } else {\r\n  const msg = 'error' in response ? response.error : 'Unknown error';\r\n  throw new Error(msg);\r\n}\r\n    } catch (error) {\r\n      setChatbotState(prev => ({\r\n        ...prev,\r\n        isLoading: false,\r\n        isTyping: false,\r\n        error: error instanceof Error ? error.message : '답변을 생성할 수 없습니다.'\r\n      }));\r\n    }\r\n  }, [chatbotState.inputMessage]);\r\n\r\n  // 입력 필드 변경 핸들러\r\n  const handleInputChange = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    const value = e.target.value;\r\n    if (value.length <= 300) {\r\n      setChatbotState(prev => ({ \r\n        ...prev, \r\n        inputMessage: value,\r\n        error: null \r\n      }));\r\n    }\r\n  }, []);\r\n\r\n  // 키보드 이벤트 핸들러\r\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      if (!chatbotState.isLoading && chatbotState.inputMessage.trim()) {\r\n        sendMessage();\r\n      }\r\n    }\r\n  }, [chatbotState.isLoading, chatbotState.inputMessage, sendMessage]);\r\n\r\n  // 알림 데이터 가져오기\r\n  const fetchNotifications = useCallback(async () => {\r\n    try {\r\n      const data = await DashboardAPI.getNotifications();\r\n      setNotificationData(data);\r\n    } catch (error) {\r\n      console.error('알림 데이터 가져오기 실패:', error);\r\n    }\r\n  }, []);\r\n\r\n  // 컴포넌트 마운트 시 초기화\r\n  useEffect(() => {\r\n    // 환영 메시지 추가\r\n    const welcomeMessage = ChatbotUtils.createWelcomeMessage();\r\n    setChatbotState(prev => ({\r\n      ...prev,\r\n      messages: [welcomeMessage]\r\n    }));\r\n\r\n    // 알림 데이터 가져오기\r\n    fetchNotifications();\r\n\r\n    // 입력 필드에 포커스\r\n    setTimeout(() => {\r\n      inputRef.current?.focus();\r\n    }, 100);\r\n  }, [fetchNotifications]);\r\n\r\n  // 메시지 추가 시 스크롤\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [chatbotState.messages, chatbotState.isTyping, scrollToBottom]);\r\n\r\n  // 메시지 히스토리 저장\r\n  useEffect(() => {\r\n    if (chatbotState.messages.length > 0) {\r\n      ChatbotUtils.saveMessageHistory(chatbotState.messages);\r\n    }\r\n  }, [chatbotState.messages]);\r\n\r\n  const canSend = chatbotState.inputMessage.trim().length > 0 && !chatbotState.isLoading;\r\n  const charCount = chatbotState.inputMessage.length;\r\n  const charCountClass = charCount > 250 ? 'error' : charCount > 200 ? 'warning' : '';\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {/* 사이드바 */}\r\n      <div className={sidebarStyles.sidebar}>\r\n        <div className={sidebarStyles.logoSection}>\r\n          <div className={sidebarStyles.logoContainer}>\r\n            <div className={styles.logoMain}>AWS²</div>\r\n            <div className={styles.logoAccent}>GIoT</div>\r\n          </div>\r\n          <div className={sidebarStyles.logoSubtext}>IoT Cloud System</div>\r\n        </div>\r\n\r\n        <nav className={sidebarStyles.navigation}>\r\n          <button className={sidebarStyles.sidebarItem} onClick={onNavigateBack}>\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>Dashboard</span>\r\n          </button>\r\n          <button className={`${sidebarStyles.sidebarItem} ${sidebarStyles.sidebarItemActive}`}>\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>Chatbot</span>\r\n          </button>\r\n          <button className={sidebarStyles.sidebarItem}>\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>History</span>\r\n          </button>\r\n          <button className={sidebarStyles.sidebarItem}>\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>Settings</span>\r\n          </button>\r\n          <button className={sidebarStyles.sidebarItem}>\r\n            <span><MessageCircle size={20} /></span>\r\n            <span>Logout</span>\r\n          </button>\r\n        </nav>\r\n\r\n        <div className={sidebarStyles.sidebarFooter}>\r\n          <div className={sidebarStyles.footerText}>2025 GBSA AWS</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 메인 컨텐츠 영역 */}\r\n      <div className={styles.mainContent}>\r\n        {/* 상단 헤더 */}\r\n        <header className={styles.header}>\r\n          <div className={styles.headerContent}>\r\n            <div>\r\n              <h1 className={styles.headerTitle}>Chatbot</h1>\r\n              <p className={styles.headerSubtitle}>{new Date().toLocaleString('ko-KR')}</p>\r\n            </div>\r\n            \r\n            <div className={styles.headerActions}>\r\n              {/* 알림 아이콘 */}\r\n              <div className={styles.notificationContainer}>\r\n                <button\r\n                  onClick={() => {\r\n                    setIsNotificationOpen(!isNotificationOpen);\r\n                    setIsAdminMenuOpen(false);\r\n                  }}\r\n                  className={styles.notificationButton}\r\n                >\r\n                  <Bell size={24} />\r\n                  {notificationData.count > 0 && (\r\n                    <span className={styles.notificationBadge}>\r\n                      {notificationData.count > 99 ? '99+' : notificationData.count}\r\n                    </span>\r\n                  )}\r\n                </button>\r\n                \r\n                <NotificationDropdown\r\n                  isOpen={isNotificationOpen}\r\n                  onClose={() => setIsNotificationOpen(false)}\r\n                  notifications={notificationData.notifications}\r\n                />\r\n              </div>\r\n\r\n              {/* 관리자 프로필 */}\r\n              <div className={styles.adminContainer}>\r\n                <button\r\n                  onClick={() => {\r\n                    setIsAdminMenuOpen(!isAdminMenuOpen);\r\n                    setIsNotificationOpen(false);\r\n                  }}\r\n                  className={styles.adminButton}\r\n                >\r\n                  <div className={styles.adminAvatar}>\r\n                    <User size={18} style={{ color: 'white' }} />\r\n                  </div>\r\n                  <span className={styles.adminLabel}>Admin</span>\r\n                </button>\r\n                \r\n                <AdminDropdown\r\n                  isOpen={isAdminMenuOpen}\r\n                  onClose={() => setIsAdminMenuOpen(false)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* 챗봇 메인 영역 */}\r\n        <div className={styles.chatbotContainer}>\r\n          {/* 챗봇 헤더 */}\r\n          <div className={styles.chatbotHeader}>\r\n            <div className={styles.chatbotHeaderLeft}>\r\n              <button \r\n                className={styles.chatbotBackButton}\r\n                onClick={onNavigateBack}\r\n                aria-label=\"뒤로 가기\"\r\n              >\r\n                <ChevronLeft size={20} />\r\n              </button>\r\n              \r\n              <div className={styles.chatbotModelInfo}>\r\n                <div className={styles.chatbotModelName}>Model Name</div>\r\n                <div className={styles.chatbotModelStatus}>\r\n                  <span className={`${styles.chatbotStatusBadge} ${styles[`chatbotStatus${chatbotState.modelStatus}`]}`}>\r\n                    {chatbotState.modelStatus}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className={styles.chatbotHeaderActions}>\r\n              <button className={styles.chatbotActionButton} aria-label=\"인쇄\">\r\n                <Printer size={18} />\r\n              </button>\r\n              <button className={styles.chatbotActionButton} aria-label=\"즐겨찾기\">\r\n                <Star size={18} />\r\n              </button>\r\n              <button className={styles.chatbotActionButton} aria-label=\"삭제\">\r\n                <Trash2 size={18} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 메시지 영역 */}\r\n          <div className={styles.chatbotMessagesContainer}>\r\n            <div className={styles.chatbotMessages}>\r\n              {chatbotState.messages.map((message) => (\r\n                <MessageItem key={message.id} message={message} />\r\n              ))}\r\n              \r\n              {chatbotState.isTyping && <TypingIndicator />}\r\n              \r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* 에러 메시지 */}\r\n          {chatbotState.error && (\r\n            <div className={styles.chatbotErrorMessage}>\r\n              {chatbotState.error}\r\n            </div>\r\n          )}\r\n\r\n          {/* 입력 영역 */}\r\n          <div className={styles.chatbotInputContainer}>\r\n            <div className={styles.chatbotInputWrapper}>\r\n              <button \r\n                className={styles.chatbotAttachButton}\r\n                aria-label=\"파일 첨부\"\r\n              >\r\n                <Paperclip size={18} />\r\n              </button>\r\n              \r\n              <div style={{ position: 'relative', flex: 1 }}>\r\n                <textarea\r\n                  ref={inputRef}\r\n                  className={styles.chatbotInputField}\r\n                  value={chatbotState.inputMessage}\r\n                  onChange={handleInputChange}\r\n                  onKeyDown={handleKeyDown}\r\n                  placeholder=\"Write message\"\r\n                  rows={1}\r\n                  disabled={chatbotState.isLoading}\r\n                />\r\n                <div className={`${styles.chatbotCharCounter} ${charCountClass}`}>\r\n                  {charCount}/300\r\n                </div>\r\n              </div>\r\n              \r\n              <button \r\n                className={styles.chatbotSendButton}\r\n                onClick={sendMessage}\r\n                disabled={!canSend}\r\n                aria-label=\"메시지 전송\"\r\n              >\r\n                <Send size={18} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatbotScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}